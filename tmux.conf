# {{{ Turn moume on.

# https://unix.stackexchange.com/questions/348913/copy-selection-to-a-clipboard-in-tmux

  set-option -g mouse on
    set-option -s set-clipboard off
    bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe "xclip -selection clipboard -i"

# -------------------------------------------------------------------------- }}}
# {{{ copy / paster

#set-option -g default-command "reattach-to-user-namespace -l bash"

# -------------------------------------------------------------------------- }}}
# {{{ Color support


# https://cyfyifanchen.com/neovim-true-color/
  set-option -g  default-terminal   "xterm-256color"
    set-option -ga terminal-overrides ",xterm-256color:Tc"

    set -g display-time 1500
    set -g message-style "bg=#44475a,fg=#cae682"

# -------------------------------------------------------------------------- }}}
# {{{ Scroll back history

  set-option -g history-limit 10000

# -------------------------------------------------------------------------- }}}
# {{{ Default prefix key.

  unbind C-b
    set-option -g prefix C-Space

# -------------------------------------------------------------------------- }}}
# {{{ Use send-prefix to pass C-b through to application

  bind-key C-b send-prefix

# -------------------------------------------------------------------------- }}}
# {{{ Use PREFIX  b <command> to send commands to a TMUX session
#     inside another TMUX session.

  bind-key b send-prefix

# -------------------------------------------------------------------------- }}}
# {{{ Faster key repetition
  set-option -g escape-time 0

# -------------------------------------------------------------------------- }}}
# {{{ Window and Pane starting index

  set-option -g base-index 1
    set-option -g pane-base-index 1
    set-window-option -g pane-base-index 1
    set-option -g renumber-windows on

# -------------------------------------------------------------------------- }}}
# {{{ vi mode

  set-window-option -g mode-keys vi

# -------------------------------------------------------------------------- }}}
# {{{ Reload ~/.tmux conf

  bind-key r source-file ~/.tmux.conf \; display "Tmux.conf reloaded!"

# -------------------------------------------------------------------------- }}}
# {{{ Pane splitting.

  bind-key %   split-window -h -c "#{pane_current_path}"
    bind-key v   split-window -h -c "#{pane_current_path}"

    bind-key '"' split-window -v -c "#{pane_current_path}"
    bind-key s   split-window -v -c "#{pane_current_path}"

# -------------------------------------------------------------------------- }}}
# {{{ Pane resizing.

  bind-key -r h resize-pane -L 1
    bind-key -r j resize-pane -D 1
    bind-key -r k resize-pane -U 1
    bind-key -r l resize-pane -R 1

# -------------------------------------------------------------------------- }}}
# {{{ Secondary binding for C-l to retain redraw

  bind-key C-b send-keys 'C-l'

# -------------------------------------------------------------------------- }}}
# {{{ Visual notification of activity in other windows

  set-window-option -g monitor-activity off
    set-option -g visual-activity on

# -------------------------------------------------------------------------- }}}
# {{{ Focused events.

  set -g focus-events on

# -------------------------------------------------------------------------- }}}
# {{{ Tmux Plugin Manger and Plugins.

# See https://github.com/tmux-plugins/tpm

  set -g @plugin 'tmux-plugins/tpm'
    set -g @plugin 'tmux-plugins/tmux-continuum'
    set -g @plugin 'tmux-plugins/tmux-copycat'
    set -g @plugin 'tmux-plugins/tmux-open'
    set -g @plugin 'tmux-plugins/tmux-resurrect'
    set -g @plugin 'tmux-plugins/tmux-yank'
    set -g @plugin 'christoomey/vim-tmux-navigator'

    if-shell -b 'echo $TMUX_STATUSLINE | grep -q True' 'source-file ~/git/tmux/tmux-statusbar.conf' 'source-file ~/git/tmux/tmux-cat.conf'

# -------------------------------------------------------------------------- }}}
# {{{ Initialize TMUX plugin manager.

# Keep this line at the very bottom of tmux.conf

  run '~/.tmux/plugins/tpm/tpm'

# --------------------------------------------------------------------------
# }}}
